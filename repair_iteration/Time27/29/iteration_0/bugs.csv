bugid	buggy	buggy_class	suspiciousness	buggy_line	endbuggycode	failing_test_number	action	patch
57	[BUG] [BUGGY] [FE] IllegalArgumentException [CONTEXT] private static PeriodFormatter toFormatter(List<Object> elementPairs, boolean notPrinter, boolean notParser) { if (notPrinter && notParser) { throw new IllegalStateException("Builder has created neither a printer nor a parser"); } int size = elementPairs.size(); if (size >= 2 && elementPairs.get(0) instanceof Separator) { Separator sep = (Separator) elementPairs.get(0); PeriodFormatter f = toFormatter(elementPairs.subList(2, size), notPrinter, notParser); [BUGGY] [BUGGY] sep = sep.finish(f.getPrinter(), f.getParser()); return new PeriodFormatter(sep, sep); } Object[] comp = createComposite(elementPairs); if (notPrinter) { return new PeriodFormatter(null, (PeriodParser) comp[1]); } else if (notParser) { return new PeriodFormatter((PeriodPrinter) comp[0], null); } else { return new PeriodFormatter((PeriodPrinter) comp[0], (PeriodParser) comp[1]); } [CLASS] PeriodFormatterBuilder SimpleAffix PluralAffix CompositeAffix FieldFormatter Literal Separator Composite [METHOD] toFormatter [RETURN_TYPE] PeriodFormatter  Object> elementPairs boolean notPrinter boolean notParser [VARIABLES] PeriodPrinter[] iPrinters PeriodFormatter f PeriodParser beforeParser iAfterParser iBeforeParser parser PeriodParser[] iParsers String finalText iFinalText iPluralText iSingularText iText pluralText singularText text String[] iParsedForms variants int DAYS HOURS MAX_FIELD MILLIS MINUTES MONTHS PRINT_ZERO_ALWAYS PRINT_ZERO_IF_SUPPORTED PRINT_ZERO_NEVER PRINT_ZERO_RARELY_FIRST PRINT_ZERO_RARELY_LAST SECONDS SECONDS_MILLIS SECONDS_OPTIONAL_MILLIS WEEKS YEARS fieldType i iFieldType iMaxParsedDigits iMinPrintedDigits iPrintZeroSetting maxDigits maxParsedDigits minDigits minPrinted minPrintedDigits printZeroSetting size type PeriodPrinter beforePrinter iAfterPrinter iBeforePrinter printer boolean iNotParser iNotPrinter iRejectSignedValues iUseAfter iUseBefore notParser notPrinter rejectSignedValues useAfter useBefore v Literal EMPTY literal List elementPairs iElementPairs pairs parserList printerList FieldFormatter[] fieldFormatters iFieldFormatters PeriodFieldAffix iLeft iPrefix iRight iSuffix left prefix right suffix Separator sep Object[] comp  	projects/Time27/src/main/java/org/joda/time/format/PeriodFormatterBuilder.java	0.4472135954999579	802	802	1	add	
58	[BUG] [BUGGY] return new PeriodFormatter(sep, sep); [FE] IllegalArgumentException [CONTEXT] private static PeriodFormatter toFormatter(List<Object> elementPairs, boolean notPrinter, boolean notParser) { if (notPrinter && notParser) { throw new IllegalStateException("Builder has created neither a printer nor a parser"); } int size = elementPairs.size(); if (size >= 2 && elementPairs.get(0) instanceof Separator) { Separator sep = (Separator) elementPairs.get(0); PeriodFormatter f = toFormatter(elementPairs.subList(2, size), notPrinter, notParser); sep = sep.finish(f.getPrinter(), f.getParser()); [BUGGY] return new PeriodFormatter(sep, sep); [BUGGY] } Object[] comp = createComposite(elementPairs); if (notPrinter) { return new PeriodFormatter(null, (PeriodParser) comp[1]); } else if (notParser) { return new PeriodFormatter((PeriodPrinter) comp[0], null); } else { return new PeriodFormatter((PeriodPrinter) comp[0], (PeriodParser) comp[1]); } } [CLASS] PeriodFormatterBuilder SimpleAffix PluralAffix CompositeAffix FieldFormatter Literal Separator Composite [METHOD] toFormatter [RETURN_TYPE] PeriodFormatter  Object> elementPairs boolean notPrinter boolean notParser [VARIABLES] PeriodPrinter[] iPrinters PeriodFormatter f PeriodParser beforeParser iAfterParser iBeforeParser parser PeriodParser[] iParsers String finalText iFinalText iPluralText iSingularText iText pluralText singularText text String[] iParsedForms variants int DAYS HOURS MAX_FIELD MILLIS MINUTES MONTHS PRINT_ZERO_ALWAYS PRINT_ZERO_IF_SUPPORTED PRINT_ZERO_NEVER PRINT_ZERO_RARELY_FIRST PRINT_ZERO_RARELY_LAST SECONDS SECONDS_MILLIS SECONDS_OPTIONAL_MILLIS WEEKS YEARS fieldType i iFieldType iMaxParsedDigits iMinPrintedDigits iPrintZeroSetting maxDigits maxParsedDigits minDigits minPrinted minPrintedDigits printZeroSetting size type PeriodPrinter beforePrinter iAfterPrinter iBeforePrinter printer boolean iNotParser iNotPrinter iRejectSignedValues iUseAfter iUseBefore notParser notPrinter rejectSignedValues useAfter useBefore v Literal EMPTY literal List elementPairs iElementPairs pairs parserList printerList FieldFormatter[] fieldFormatters iFieldFormatters PeriodFieldAffix iLeft iPrefix iRight iSuffix left prefix right suffix Separator sep Object[] comp  	projects/Time27/src/main/java/org/joda/time/format/PeriodFormatterBuilder.java	0.4472135954999579	803	803	1	replace	
