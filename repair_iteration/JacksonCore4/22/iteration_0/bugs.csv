bugid	buggy	buggy_class	suspiciousness	buggy_line	endbuggycode	failing_test_number	action	patch
43	[BUG] [BUGGY] if (_currentSegment == null || needed > _currentSegment.length) { [FE] junit.framework.AssertionFailedError: Expected buffer of 262145 to expand [CONTEXT] { int sharedLen = _inputLen; _inputLen = 0; char[] inputBuf = _inputBuffer; _inputBuffer = null; int start = _inputStart; _inputStart = -1;  int needed = sharedLen+needExtra; [BUGGY] if (_currentSegment == null || needed > _currentSegment.length) { [BUGGY] _currentSegment = buf(needed); } if (sharedLen > 0) { System.arraycopy(inputBuf, start, _currentSegment, 0, sharedLen); } _segmentSize = 0; _currentSize = sharedLen; } [CLASS] TextBuffer [METHOD] unshare [RETURN_TYPE] void  int needExtra [VARIABLES] boolean _hasSegments BufferRecycler _allocator allocator ArrayList _segments String _resultString str value int MAX_SEGMENT_LEN MIN_SEGMENT_LEN _currentSize _inputLen _inputStart _segmentSize amount currLen i len max minSize needExtra needed newLen offset oldLen segLen sharedLen start char[] NO_CHARS _currentSegment _inputBuffer _resultArray buf c curr inputBuf result  	projects/JacksonCore4/src/main/java/com/fasterxml/jackson/core/util/TextBuffer.java	0.5	640	640	1	replace	
